## gRPC란? 🌍
gRPC는 구글이 개발한 고성능, 오픈 소스 RPC 프레임워크로, 서비스 간에 효율적으로 통신할 수 있게 해주는 기술입니다. gRPC는 다양한 프로그래밍 언어를 지원하고 HTTP/2를 기반으로 동작하며, 특히 `마이크로서비스 아키텍처(MSA)`에서 강력한 성능을 발휘합니다.

### RPC(Remote Procedure Call)란?
RPC는 `멀리 떨어져 있는 시스템 간에 마치 같은 공간에서 함수를 호출하듯 통신`할 수 있게 하는 기술입니다. 클라이언트가 서버의 함수를 직접 호출하며, 이 과정에서 스텁이라는 매개체를 사용하여 통신합니다.

> - 우리가 만드는 App[Java Spring - React]은 하나의 서비스라고 볼 수 있습니다.
> - 심지어 같은 로컬 네트워크가 아니어도 통신이 가능합니다.

<img src="https://getoutsidedoor.com/wp-content/uploads/2019/07/grpc-overview-939x1024.png">

##### 출처 : https://www.getoutsidedoor.com/2019/07/11/what-is-grpc/


### 스텁(Stub)이란?
스텁은 RPC의 핵심 개념으로, 클라이언트와 서버 간의 매개체 역할을 하며, 데이터(parameter)를 메시지로 변환(Marshaling)하거나 역변환(Unmarshaling)하는 역할을 합니다. 클라이언트 스텁은 함수 호출의 파라미터 변환을, 서버 스텁은 받은 메시지를 다시 함수의 인자로 변환하여 처리합니다.

> - 하향식 통합테스트에서의 stub와는 모두 '대체품'이라는 공통된 개념을 가지고 있지만 사용되는 맥락과 목적이 매우 다릅니다. (아직 만들어지지 않은 하위 모듈의 간단한 대체품)

<img src="https://knowledge.ni.com/servlet/rtaImage?eid=ka03q0000012k11&feoid=00N3q00000HUsuI&refid=0EM3q000002OZRJ">

##### 출처 : https://knowledge.ni.com/KnowledgeArticleDetails?id=kA03q000000oxQGCAY&l=en-US

### 프로토콜 버퍼(Protocol Buffer)란?

프로토콜 버퍼는 구글이 개발한 언어 중립적이고 플랫폼 중립적인 데이터 직렬화 방식입니다. XML이나 JSON보다 훨씬 효율적이며, 작고 빠르며 확장 가능합니다. gRPC는 이 프로토콜 버퍼를 사용하여 어떤 언어나 시스템에서도 쉽게 데이터를 주고받을 수 있습니다.

> - gRPC는 IDL(Interface Definition Language)로 프로토콜 버퍼를 사용합니다.

## gRPC의 장점 ☀️
- **고성능**: HTTP/2와 프로토콜 버퍼 덕분에 매우 빠른 데이터 전송이 가능합니다.
- **양방향 스트리밍**: 서버와 클라이언트가 동시에 데이터를 주고받을 수 있습니다.
- **다양한 언어 지원**: Java, C++, Python 등 다양한 언어에서 사용할 수 있습니다.
- **코드 자동 생성**: IDL로 정의된 서비스와 메시지에 대한 코드가 자동으로 생성됩니다.
- **유지보수 용이**: 명확한 인터페이스와 구조화된 데이터 덕분에 유지보수가 쉽습니다.

## gRPC의 단점 🌧️
- **바이너리 데이터**: 메시지가 바이너리 형태로 전달되어 사람이 직접 읽기 어렵습니다.
    - 테스트가 어렵습니다.
    - 사람이 읽을 수 없기 때문에 데이터를 보고 싶으면 추가적인 작업이 필요합니다.
- **브라우저 지원 부족**: HTTP/2를 필요로 하므로 모든 웹 브라우저에서 지원되지 않을 수 있습니다.
- **복잡성**: 개발 프로세스의 복잡도가 증가 할 수 있습니다.
    - 프로토콜 버퍼와 gRPC 모두 어렵다고 합니다.(많이)

## REST와의 비교 
- **통신 모델**: gRPC는 양방향 통신을 지원하는 반면, REST는 주로 단방향 통신입니다.
- **데이터 포맷**: gRPC는 프로토콜 버퍼를 사용하고, REST는 주로 JSON을 사용합니다.
- **성능**: gRPC는 HTTP/2와 프로토콜 버퍼 덕분에 REST보다 일반적으로 더 빠릅니다.
- **사용 사례**: gRPC는 고성능이 필요한 내부 통신에, REST는 간단한 웹 서비스에 적합합니다.

## gRPC VS REST

| 구분         | gRPC API                                         | REST API                                        |
|--------------|--------------------------------------------------|-------------------------------------------------|
| **무엇인가요?** | 원격 프로시저 호출(RPC) 기반 클라이언트-서버 통신 모델입니다. | 클라이언트와 서버 간의 정형 데이터 교환을 정의하는 `규칙`입니다. |
| **설계 접근 방식** | `서비스 지향` 설계. 클라이언트는 서버에 서비스 또는 기능을 요청합니다. | `엔터티 지향` 설계. 클라이언트는 서버에 리소스의 생성, 공유 또는 수정을 요청합니다. |
| **통신 모델** | 다양한 옵션(단방향, 다중 클라이언트/서버 등)이 가능합니다. | 주로 단방향. 단일 클라이언트가 단일 서버와 통신합니다. |
| **구현** | 클라이언트와 서버 모두에 gRPC 소프트웨어가 필요합니다. | 공통 소프트웨어 없이 다양한 형식으로 구현할 수 있습니다. |
| **데이터 액세스** | 서비스(기능)를 직접 호출합니다. | 리소스를 정의하는 URL 형태의 여러 엔드포인트를 사용합니다. |
| **반환된 데이터** | Protocol Buffer 파일에 정의된 고정된 반환 유형으로 반환됩니다. | 서버에서 정의하는 고정 구조(주로 JSON)로 반환됩니다. |
| **클라이언트-서버 커플링** | 긴밀하게 결합됩니다. 같은 Protocol Buffer 파일이 필요합니다. | 느슨하게 결합됩니다. 내부 세부 정보를 서로 인식하지 못합니다. |
| **자동 코드 생성** | 기본 제공 기능입니다. | 서드 파티 도구가 필요합니다. |
| **양방향 스트리밍** | 가능 | 불가능 |
| **가장 적합한 용도** | 고성능 또는 데이터 사용량이 많은 `마이크로서비스 아키텍처(MSA)`에 적합합니다. | 리소스가 잘 정의되어 있는 단순한 데이터 소스에 적합합니다. |

##### 출처 : https://aws.amazon.com/ko/compare/the-difference-between-grpc-and-rest/
